2026-01-03 00:00:47 [SpringApplicationShutdownHook] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1
2026-01-03 00:00:47 [SpringApplicationShutdownHook] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=2
2026-01-03 00:00:47 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-03 00:00:47 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2026-01-03 00:00:57 [main] INFO  c.d.monitor.DistributedMonitorApplication - Starting DistributedMonitorApplication using Java 1.8.0_462 on Zimd with PID 28224 (D:\JavaPackage\repository\lab\target\classes started by 23589 in D:\JavaPackage\repository\lab)
2026-01-03 00:00:57 [main] DEBUG c.d.monitor.DistributedMonitorApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2026-01-03 00:00:57 [main] INFO  c.d.monitor.DistributedMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-03 00:00:58 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-03 00:00:58 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-03 00:00:58 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2026-01-03 00:00:58 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-03 00:00:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1527 ms
2026-01-03 00:00:59 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-03 00:00:59 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-03 00:01:00 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2026-01-03 00:01:00 [main] INFO  c.d.monitor.DistributedMonitorApplication - Started DistributedMonitorApplication in 3.178 seconds (JVM running for 4.606)
2026-01-03 00:01:01 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-03 00:01:01 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-03 00:01:01 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-03 00:01:01 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=0, userId=1
2026-01-03 00:01:23 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=0
2026-01-03 00:01:23 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=1, userId=1
2026-01-03 00:01:23 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=2, userId=1
2026-01-03 00:01:28 [http-nio-8080-exec-9] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 用户登出
2026-01-03 00:01:28 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1
2026-01-03 00:01:28 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=2
2026-01-03 00:01:29 [http-nio-8080-exec-3] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 00:01:29 [http-nio-8080-exec-3] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 00:01:30 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=3, userId=1
2026-01-03 00:01:30 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=4, userId=1
2026-01-03 00:01:35 [SpringApplicationShutdownHook] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=3
2026-01-03 00:01:35 [SpringApplicationShutdownHook] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=4
2026-01-03 00:01:35 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-03 00:01:35 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2026-01-03 00:01:38 [main] INFO  c.d.monitor.DistributedMonitorApplication - Starting DistributedMonitorApplication using Java 1.8.0_462 on Zimd with PID 19600 (D:\JavaPackage\repository\lab\target\classes started by 23589 in D:\JavaPackage\repository\lab)
2026-01-03 00:01:38 [main] DEBUG c.d.monitor.DistributedMonitorApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2026-01-03 00:01:38 [main] INFO  c.d.monitor.DistributedMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-03 00:01:39 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-03 00:01:39 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-03 00:01:39 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2026-01-03 00:01:39 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-03 00:01:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1012 ms
2026-01-03 00:01:39 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-03 00:01:39 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-03 00:01:40 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2026-01-03 00:01:40 [main] INFO  c.d.monitor.DistributedMonitorApplication - Started DistributedMonitorApplication in 2.253 seconds (JVM running for 3.607)
2026-01-03 00:01:40 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-03 00:01:40 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-03 00:01:40 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-03 00:01:40 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=0, userId=1
2026-01-03 00:02:01 [http-nio-8080-exec-2] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 用户登出
2026-01-03 00:02:01 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=0
2026-01-03 00:02:02 [http-nio-8080-exec-4] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 00:02:02 [http-nio-8080-exec-4] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 00:02:03 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=1, userId=1
2026-01-03 00:02:03 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=2, userId=1
2026-01-03 00:02:09 [http-nio-8080-exec-7] WARN  c.d.monitor.handler.GlobalExceptionHandler - 业务异常: 生成报表失败：Font 'STSong-Light' with 'UniGB-UCS2-H' is not recognized.
2026-01-03 00:04:13 [SpringApplicationShutdownHook] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1
2026-01-03 00:04:13 [SpringApplicationShutdownHook] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=2
2026-01-03 00:04:13 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-03 00:04:13 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2026-01-03 00:04:20 [main] INFO  c.d.monitor.DistributedMonitorApplication - Starting DistributedMonitorApplication using Java 1.8.0_462 on Zimd with PID 27568 (D:\JavaPackage\repository\lab\target\classes started by 23589 in D:\JavaPackage\repository\lab)
2026-01-03 00:04:20 [main] DEBUG c.d.monitor.DistributedMonitorApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2026-01-03 00:04:20 [main] INFO  c.d.monitor.DistributedMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-03 00:04:21 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-03 00:04:21 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-03 00:04:21 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2026-01-03 00:04:21 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-03 00:04:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1003 ms
2026-01-03 00:04:22 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-03 00:04:22 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-03 00:04:22 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2026-01-03 00:04:22 [main] INFO  c.d.monitor.DistributedMonitorApplication - Started DistributedMonitorApplication in 2.412 seconds (JVM running for 3.586)
2026-01-03 00:04:23 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-03 00:04:23 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-03 00:04:23 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-03 00:04:23 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=0, userId=1
2026-01-03 00:04:30 [http-nio-8080-exec-2] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 用户登出
2026-01-03 00:04:30 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=0
2026-01-03 00:04:31 [http-nio-8080-exec-5] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 00:04:31 [http-nio-8080-exec-5] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 00:04:31 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=1, userId=1
2026-01-03 00:04:31 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=2, userId=1
2026-01-03 00:04:38 [http-nio-8080-exec-1] WARN  org.apache.coyote.http11.Http11Processor - The HTTP response header [Content-Disposition] with value [attachment; filename="设备报表.pdf"] has been removed from the response because it is invalid
java.lang.IllegalArgumentException: The Unicode character [设] at code point [35,774] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:310)
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:283)
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:389)
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:368)
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1048)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.coyote.Response.sendHeaders(Response.java:437)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:291)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:271)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:170)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:139)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:129)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 00:05:51 [http-nio-8080-exec-2] WARN  org.apache.coyote.http11.Http11Processor - The HTTP response header [Content-Disposition] with value [attachment; filename="设备报表.xlsx"] has been removed from the response because it is invalid
java.lang.IllegalArgumentException: The Unicode character [设] at code point [35,774] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:310)
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:283)
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:389)
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:368)
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1048)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.coyote.Response.sendHeaders(Response.java:437)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:291)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:271)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:170)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:139)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:129)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 00:09:34 [SpringApplicationShutdownHook] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1
2026-01-03 00:09:34 [SpringApplicationShutdownHook] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=2
2026-01-03 00:09:34 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-03 00:09:34 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2026-01-03 00:09:41 [main] INFO  c.d.monitor.DistributedMonitorApplication - Starting DistributedMonitorApplication using Java 1.8.0_462 on Zimd with PID 27368 (D:\JavaPackage\repository\lab\target\classes started by 23589 in D:\JavaPackage\repository\lab)
2026-01-03 00:09:41 [main] DEBUG c.d.monitor.DistributedMonitorApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2026-01-03 00:09:41 [main] INFO  c.d.monitor.DistributedMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-03 00:09:42 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-03 00:09:42 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-03 00:09:42 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2026-01-03 00:09:42 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-03 00:09:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 957 ms
2026-01-03 00:09:42 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-03 00:09:42 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-03 00:09:43 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2026-01-03 00:09:43 [main] INFO  c.d.monitor.DistributedMonitorApplication - Started DistributedMonitorApplication in 2.206 seconds (JVM running for 3.24)
2026-01-03 00:09:43 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-03 00:09:43 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-03 00:09:43 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2026-01-03 00:09:43 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=0, userId=1
2026-01-03 00:09:50 [http-nio-8080-exec-2] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 用户登出
2026-01-03 00:09:50 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=0
2026-01-03 00:09:51 [http-nio-8080-exec-4] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 00:09:51 [http-nio-8080-exec-4] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 00:09:51 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=1, userId=1
2026-01-03 00:09:51 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=2, userId=1
2026-01-03 00:09:57 [http-nio-8080-exec-5] WARN  org.apache.coyote.http11.Http11Processor - The HTTP response header [Content-Disposition] with value [attachment; filename="设备报表.pdf"] has been removed from the response because it is invalid
java.lang.IllegalArgumentException: The Unicode character [设] at code point [35,774] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:310)
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:283)
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:389)
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:368)
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1048)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.coyote.Response.sendHeaders(Response.java:437)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:291)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:271)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:170)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:139)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:129)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 00:11:52 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1
2026-01-03 00:11:52 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=2
2026-01-03 00:11:52 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=3, userId=1
2026-01-03 00:11:52 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=4, userId=1
2026-01-03 00:13:10 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=4
2026-01-03 00:13:10 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=3
2026-01-03 00:13:10 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=5, userId=1
2026-01-03 00:13:10 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=6, userId=1
2026-01-03 00:13:20 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=6
2026-01-03 00:13:20 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=5
2026-01-03 00:13:20 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=7, userId=1
2026-01-03 00:13:20 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=8, userId=1
2026-01-03 00:15:30 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=8
2026-01-03 00:15:30 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=7
2026-01-03 00:15:30 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=9, userId=1
2026-01-03 00:15:30 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=a, userId=1
2026-01-03 00:15:51 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=9
2026-01-03 00:15:51 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=a
2026-01-03 00:30:01 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-03 00:30:01 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2026-01-03 16:14:28 [main] INFO  c.d.monitor.DistributedMonitorApplication - Starting DistributedMonitorApplication using Java 1.8.0_462 on Zimd with PID 25820 (D:\JavaPackage\repository\lab\target\classes started by 23589 in D:\JavaPackage\repository\lab)
2026-01-03 16:14:28 [main] DEBUG c.d.monitor.DistributedMonitorApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2026-01-03 16:14:28 [main] INFO  c.d.monitor.DistributedMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-03 16:14:30 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-03 16:14:30 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-03 16:14:30 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2026-01-03 16:14:30 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-03 16:14:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1174 ms
2026-01-03 16:14:30 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-03 16:14:30 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-03 16:14:31 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2026-01-03 16:14:31 [main] INFO  c.d.monitor.DistributedMonitorApplication - Started DistributedMonitorApplication in 2.579 seconds (JVM running for 3.997)
2026-01-03 16:15:01 [http-nio-8080-exec-2] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-03 16:15:01 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-03 16:15:01 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-03 16:15:01 [http-nio-8080-exec-1] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:01Z, a difference of 50710746 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:01 [http-nio-8080-exec-3] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:01Z, a difference of 50710746 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.AlertWebSocketServer.onOpen(AlertWebSocketServer.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:01 [http-nio-8080-exec-2] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:01Z, a difference of 50710746 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.interceptor.JwtAuthInterceptor.preHandle(JwtAuthInterceptor.java:59)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:01 [http-nio-8080-exec-1] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=0
2026-01-03 16:15:01 [http-nio-8080-exec-2] WARN  c.d.monitor.interceptor.JwtAuthInterceptor - Token无效或已过期: /api/auth/profile
2026-01-03 16:15:01 [http-nio-8080-exec-3] WARN  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connection rejected: invalid token, sessionId=1
2026-01-03 16:15:01 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=1
2026-01-03 16:15:01 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=0
2026-01-03 16:15:01 [http-nio-8080-exec-7] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:01Z, a difference of 50710789 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:01 [http-nio-8080-exec-7] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=2
2026-01-03 16:15:01 [http-nio-8080-exec-8] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:01Z, a difference of 50710789 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.interceptor.JwtAuthInterceptor.preHandle(JwtAuthInterceptor.java:59)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:01 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=2
2026-01-03 16:15:01 [http-nio-8080-exec-8] WARN  c.d.monitor.interceptor.JwtAuthInterceptor - Token无效或已过期: /api/auth/logout
2026-01-03 16:15:01 [http-nio-8080-exec-6] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:01Z, a difference of 50710811 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.AlertWebSocketServer.onOpen(AlertWebSocketServer.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:01 [http-nio-8080-exec-6] WARN  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connection rejected: invalid token, sessionId=3
2026-01-03 16:15:01 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=3
2026-01-03 16:15:01 [http-nio-8080-exec-9] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:01Z, a difference of 50710823 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.interceptor.JwtAuthInterceptor.preHandle(JwtAuthInterceptor.java:59)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:01 [http-nio-8080-exec-9] WARN  c.d.monitor.interceptor.JwtAuthInterceptor - Token无效或已过期: /api/auth/logout
2026-01-03 16:15:02 [http-nio-8080-exec-10] WARN  c.d.monitor.interceptor.JwtAuthInterceptor - 请求缺少Token: /api/devices/statistics
2026-01-03 16:15:02 [http-nio-8080-exec-2] WARN  c.d.monitor.interceptor.JwtAuthInterceptor - 请求缺少Token: /api/devices
2026-01-03 16:15:02 [http-nio-8080-exec-3] WARN  c.d.monitor.interceptor.JwtAuthInterceptor - 请求缺少Token: /api/alerts/statistics
2026-01-03 16:15:04 [http-nio-8080-exec-1] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:04Z, a difference of 50713801 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:04 [http-nio-8080-exec-1] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=4
2026-01-03 16:15:04 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=4
2026-01-03 16:15:04 [http-nio-8080-exec-8] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:04Z, a difference of 50713832 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:04 [http-nio-8080-exec-8] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=5
2026-01-03 16:15:04 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=5
2026-01-03 16:15:08 [http-nio-8080-exec-6] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:08Z, a difference of 50717151 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:08 [http-nio-8080-exec-6] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=6
2026-01-03 16:15:08 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=6
2026-01-03 16:15:08 [http-nio-8080-exec-4] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:08Z, a difference of 50717165 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:08 [http-nio-8080-exec-4] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=7
2026-01-03 16:15:08 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=7
2026-01-03 16:15:12 [http-nio-8080-exec-5] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:12Z, a difference of 50721160 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:12 [http-nio-8080-exec-5] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=8
2026-01-03 16:15:12 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=8
2026-01-03 16:15:12 [http-nio-8080-exec-9] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:12Z, a difference of 50721189 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:12 [http-nio-8080-exec-9] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=9
2026-01-03 16:15:12 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=9
2026-01-03 16:15:16 [http-nio-8080-exec-10] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:16Z, a difference of 50725160 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:16 [http-nio-8080-exec-10] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=a
2026-01-03 16:15:16 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=a
2026-01-03 16:15:16 [http-nio-8080-exec-2] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:16Z, a difference of 50725176 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:16 [http-nio-8080-exec-2] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=b
2026-01-03 16:15:16 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=b
2026-01-03 16:15:20 [http-nio-8080-exec-3] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:20Z, a difference of 50729151 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:20 [http-nio-8080-exec-3] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=c
2026-01-03 16:15:20 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=c
2026-01-03 16:15:20 [http-nio-8080-exec-1] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:20Z, a difference of 50729165 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:20 [http-nio-8080-exec-1] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=d
2026-01-03 16:15:20 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=d
2026-01-03 16:15:24 [http-nio-8080-exec-7] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:24Z, a difference of 50733159 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:24 [http-nio-8080-exec-7] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=e
2026-01-03 16:15:24 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=e
2026-01-03 16:15:24 [http-nio-8080-exec-8] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:24Z, a difference of 50733187 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:24 [http-nio-8080-exec-8] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=f
2026-01-03 16:15:24 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=f
2026-01-03 16:15:28 [http-nio-8080-exec-4] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:28Z, a difference of 50737154 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:28 [http-nio-8080-exec-4] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=10
2026-01-03 16:15:28 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=10
2026-01-03 16:15:28 [http-nio-8080-exec-5] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:28Z, a difference of 50737168 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:28 [http-nio-8080-exec-5] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=11
2026-01-03 16:15:28 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=11
2026-01-03 16:15:32 [http-nio-8080-exec-9] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:32Z, a difference of 50741156 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:32 [http-nio-8080-exec-9] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=12
2026-01-03 16:15:32 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=12
2026-01-03 16:15:32 [http-nio-8080-exec-10] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:32Z, a difference of 50741180 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:32 [http-nio-8080-exec-10] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=13
2026-01-03 16:15:32 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=13
2026-01-03 16:15:36 [http-nio-8080-exec-2] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:36Z, a difference of 50745154 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:36 [http-nio-8080-exec-2] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=14
2026-01-03 16:15:36 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=14
2026-01-03 16:15:36 [http-nio-8080-exec-3] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:36Z, a difference of 50745185 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:36 [http-nio-8080-exec-3] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=15
2026-01-03 16:15:36 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=15
2026-01-03 16:15:39 [http-nio-8080-exec-1] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:39Z, a difference of 50748887 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:39 [http-nio-8080-exec-1] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=16
2026-01-03 16:15:39 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=16
2026-01-03 16:15:39 [http-nio-8080-exec-8] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:39Z, a difference of 50748914 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:39 [http-nio-8080-exec-8] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=17
2026-01-03 16:15:39 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=17
2026-01-03 16:15:42 [http-nio-8080-exec-6] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:42Z, a difference of 50751895 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:42 [http-nio-8080-exec-6] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=18
2026-01-03 16:15:42 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=18
2026-01-03 16:15:42 [http-nio-8080-exec-4] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:42Z, a difference of 50751922 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:42 [http-nio-8080-exec-4] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=19
2026-01-03 16:15:42 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=19
2026-01-03 16:15:45 [http-nio-8080-exec-9] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:45Z, a difference of 50754904 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:45 [http-nio-8080-exec-9] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=1a
2026-01-03 16:15:45 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1a
2026-01-03 16:15:45 [http-nio-8080-exec-10] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:45Z, a difference of 50754934 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:45 [http-nio-8080-exec-10] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=1b
2026-01-03 16:15:45 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1b
2026-01-03 16:15:47 [Druid-ConnectionPool-Create-2018270965] ERROR com.alibaba.druid.pool.DruidDataSource - create connection SQLException, url: jdbc:mysql://localhost:3306/distributed_monitor?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true, errorCode 0, state 08S01
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1703)
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1801)
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2946)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:945)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	... 6 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 9 common frames omitted
2026-01-03 16:15:49 [http-nio-8080-exec-2] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:49Z, a difference of 50758161 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:49 [http-nio-8080-exec-2] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=1c
2026-01-03 16:15:49 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1c
2026-01-03 16:15:49 [http-nio-8080-exec-3] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:49Z, a difference of 50758178 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:49 [http-nio-8080-exec-3] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=1d
2026-01-03 16:15:49 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1d
2026-01-03 16:15:51 [Druid-ConnectionPool-Create-2018270965] ERROR com.alibaba.druid.pool.DruidDataSource - create connection SQLException, url: jdbc:mysql://localhost:3306/distributed_monitor?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true, errorCode 0, state 08S01
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1703)
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1801)
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2946)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:945)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	... 6 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 9 common frames omitted
2026-01-03 16:15:51 [Druid-ConnectionPool-Create-2018270965] INFO  com.alibaba.druid.pool.DruidAbstractDataSource - {dataSource-1} failContinuous is true
2026-01-03 16:15:53 [http-nio-8080-exec-1] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:53Z, a difference of 50762154 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:53 [http-nio-8080-exec-1] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=1e
2026-01-03 16:15:53 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1e
2026-01-03 16:15:53 [http-nio-8080-exec-7] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:53Z, a difference of 50762167 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:53 [http-nio-8080-exec-7] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=1f
2026-01-03 16:15:53 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1f
2026-01-03 16:15:56 [Druid-ConnectionPool-Create-2018270965] ERROR com.alibaba.druid.pool.DruidDataSource - create connection SQLException, url: jdbc:mysql://localhost:3306/distributed_monitor?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true, errorCode 0, state 08S01
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1703)
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1801)
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2946)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:945)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	... 6 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 9 common frames omitted
2026-01-03 16:15:57 [http-nio-8080-exec-8] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:57Z, a difference of 50766163 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:57 [http-nio-8080-exec-8] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=20
2026-01-03 16:15:57 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=20
2026-01-03 16:15:57 [http-nio-8080-exec-6] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:15:57Z, a difference of 50766177 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:15:57 [http-nio-8080-exec-6] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=21
2026-01-03 16:15:57 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=21
2026-01-03 16:16:00 [Druid-ConnectionPool-Create-2018270965] ERROR com.alibaba.druid.pool.DruidDataSource - create connection SQLException, url: jdbc:mysql://localhost:3306/distributed_monitor?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true, errorCode 0, state 08S01
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1703)
	at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1801)
	at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2946)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:945)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	... 6 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 9 common frames omitted
2026-01-03 16:16:01 [http-nio-8080-exec-4] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:16:01Z, a difference of 50770153 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:16:01 [http-nio-8080-exec-4] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=22
2026-01-03 16:16:01 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=22
2026-01-03 16:16:01 [http-nio-8080-exec-9] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:16:01Z, a difference of 50770168 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:16:01 [http-nio-8080-exec-9] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=23
2026-01-03 16:16:01 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=23
2026-01-03 16:16:05 [http-nio-8080-exec-5] ERROR c.d.monitor.handler.GlobalExceptionHandler - 运行时异常
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:313)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.distributed.monitor.service.impl.AuthServiceImpl$$EnhancerBySpringCGLIB$$faea5750.login(<generated>)
	at com.distributed.monitor.controller.AuthController.login(AuthController.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLException: null
	at com.alibaba.druid.pool.DruidDataSource.getConnectionInternal(DruidDataSource.java:1802)
	at com.alibaba.druid.pool.DruidDataSource.getConnectionDirect(DruidDataSource.java:1493)
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:1473)
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:1458)
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:83)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:269)
	... 64 common frames omitted
Caused by: java.lang.InterruptedException: null
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2048)
	at com.alibaba.druid.pool.DruidDataSource.takeLast(DruidDataSource.java:2319)
	at com.alibaba.druid.pool.DruidDataSource.getConnectionInternal(DruidDataSource.java:1785)
	... 69 common frames omitted
2026-01-03 16:16:05 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler com.distributed.monitor.handler.GlobalExceptionHandler#handleRuntimeException(RuntimeException)
org.apache.catalina.connector.ClientAbortException: java.nio.channels.ClosedChannelException
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:348)
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:777)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:298)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:271)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at java.io.FilterOutputStream.flush(FilterOutputStream.java:140)
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1187)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1009)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1332)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1143)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1396)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:775)
	at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:600)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:544)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:540)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:110)
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:193)
	at org.apache.coyote.Response.doWrite(Response.java:606)
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:335)
	... 63 common frames omitted
2026-01-03 16:16:05 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-03 16:16:05 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2026-01-03 16:16:10 [main] INFO  c.d.monitor.DistributedMonitorApplication - Starting DistributedMonitorApplication using Java 1.8.0_462 on Zimd with PID 5792 (D:\JavaPackage\repository\lab\target\classes started by 23589 in D:\JavaPackage\repository\lab)
2026-01-03 16:16:10 [main] DEBUG c.d.monitor.DistributedMonitorApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2026-01-03 16:16:10 [main] INFO  c.d.monitor.DistributedMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-03 16:16:11 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-03 16:16:11 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-03 16:16:11 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2026-01-03 16:16:11 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-03 16:16:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 971 ms
2026-01-03 16:16:11 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-03 16:16:11 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-03 16:16:12 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2026-01-03 16:16:12 [main] INFO  c.d.monitor.DistributedMonitorApplication - Started DistributedMonitorApplication in 2.114 seconds (JVM running for 3.223)
2026-01-03 16:16:12 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-03 16:16:12 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-03 16:16:12 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-03 16:16:12 [http-nio-8080-exec-2] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:16:12Z, a difference of 50781316 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:16:12 [http-nio-8080-exec-1] ERROR com.distributed.monitor.util.JwtUtil - 解析Token失败
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2026-01-02T18:09:51Z. Current time: 2026-01-03T08:16:12Z, a difference of 50781316 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.distributed.monitor.util.JwtUtil.parseToken(JwtUtil.java:88)
	at com.distributed.monitor.util.JwtUtil.validateToken(JwtUtil.java:126)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.onOpen(MonitorWebSocketServer.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)
	at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:16:12 [http-nio-8080-exec-1] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=0
2026-01-03 16:16:12 [http-nio-8080-exec-2] WARN  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connection rejected: invalid token, sessionId=1
2026-01-03 16:16:12 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=0
2026-01-03 16:16:12 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1
2026-01-03 16:16:15 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2026-01-03 16:16:15 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2026-01-03 16:16:37 [main] INFO  c.d.monitor.DistributedMonitorApplication - Starting DistributedMonitorApplication using Java 1.8.0_462 on Zimd with PID 22332 (D:\JavaPackage\repository\lab\target\classes started by 23589 in D:\JavaPackage\repository\lab)
2026-01-03 16:16:37 [main] DEBUG c.d.monitor.DistributedMonitorApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2026-01-03 16:16:37 [main] INFO  c.d.monitor.DistributedMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-03 16:16:38 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2026-01-03 16:16:38 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-03 16:16:38 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2026-01-03 16:16:38 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-03 16:16:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 942 ms
2026-01-03 16:16:38 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2026-01-03 16:16:38 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2026-01-03 16:16:39 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2026-01-03 16:16:39 [main] INFO  c.d.monitor.DistributedMonitorApplication - Started DistributedMonitorApplication in 2.158 seconds (JVM running for 3.199)
2026-01-03 16:16:42 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-03 16:16:42 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-03 16:16:42 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-03 16:16:43 [http-nio-8080-exec-1] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:16:43 [http-nio-8080-exec-1] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:16:43 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=0, userId=1
2026-01-03 16:16:43 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=1, userId=1
2026-01-03 16:17:22 [http-nio-8080-exec-3] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:17:22 [http-nio-8080-exec-3] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:17:22 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=2, userId=1
2026-01-03 16:17:22 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=3, userId=1
2026-01-03 16:17:38 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=2, fail=0, message={"data":{"wsConnected":1,"lastHeartbeatTime":1767366455000,"onlineStatus":1,"lastAuthTime":1767428257995,"deviceCode":"DEV-001","wsSessionId":"4","deviceId":2,"status":"online","updatedAt":1767428257995},"type":"device_status_change","timestamp":1767428258002}
2026-01-03 16:17:38 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=4, deviceCode=DEV-001
2026-01-03 16:17:38 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=2, fail=0, message={"data":{"statusId":68,"lastHeartbeatTime":1767428258000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428258078}
2026-01-03 16:17:46 [http-nio-8080-exec-10] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:17:46 [http-nio-8080-exec-10] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:17:46 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=5, userId=1
2026-01-03 16:17:46 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=6, userId=1
2026-01-03 16:17:56 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=3, fail=0, message={"data":{"wsConnected":1,"lastHeartbeatTime":1767338129000,"onlineStatus":1,"lastAuthTime":1767428276813,"deviceCode":"DEV-002","wsSessionId":"7","deviceId":3,"status":"online","updatedAt":1767428276813},"type":"device_status_change","timestamp":1767428276817}
2026-01-03 16:17:56 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=7, deviceCode=DEV-002
2026-01-03 16:17:56 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=3, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767428277000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767428276877}
2026-01-03 16:18:00 [http-nio-8080-exec-2] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:18:00 [http-nio-8080-exec-2] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:18:00 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=8, userId=1
2026-01-03 16:18:00 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=9, userId=1
2026-01-03 16:18:10 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=4, fail=0, message={"data":{"wsConnected":1,"lastHeartbeatTime":1767337587000,"onlineStatus":1,"lastAuthTime":1767428290373,"deviceCode":"DEV-003","wsSessionId":"a","deviceId":4,"status":"online","updatedAt":1767428290373},"type":"device_status_change","timestamp":1767428290387}
2026-01-03 16:18:10 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=a, deviceCode=DEV-003
2026-01-03 16:18:10 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=4, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767428290000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428290430}
2026-01-03 16:18:24 [http-nio-8080-exec-9] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:18:24 [http-nio-8080-exec-9] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:18:24 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=b, userId=1
2026-01-03 16:18:24 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=c, userId=1
2026-01-03 16:18:38 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=5, fail=0, message={"data":{"lastHeartbeatTime":1767428318147,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428318156}
2026-01-03 16:18:54 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=5, fail=0, message={"data":{"wsConnected":1,"onlineStatus":1,"lastAuthTime":1767428334592,"deviceCode":"DEV-004","wsSessionId":"d","deviceId":5,"status":"online","updatedAt":1767428334592},"type":"device_status_change","timestamp":1767428334596}
2026-01-03 16:18:54 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=d, deviceCode=DEV-004
2026-01-03 16:18:54 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=5, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767428335000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767428334652}
2026-01-03 16:18:57 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=5, fail=0, message={"data":{"lastHeartbeatTime":1767428337152,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767428337158}
2026-01-03 16:19:09 [http-nio-8080-exec-8] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:19:09 [http-nio-8080-exec-8] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:19:09 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=e, userId=1
2026-01-03 16:19:09 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=f, userId=1
2026-01-03 16:19:11 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=6, fail=0, message={"data":{"lastHeartbeatTime":1767428351156,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428351176}
2026-01-03 16:19:20 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=6, fail=0, message={"data":{"wsConnected":1,"onlineStatus":1,"lastAuthTime":1767428360941,"deviceCode":"DEV-005","wsSessionId":"10","deviceId":6,"status":"online","updatedAt":1767428360941},"type":"device_status_change","timestamp":1767428360955}
2026-01-03 16:19:20 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=10, deviceCode=DEV-005
2026-01-03 16:19:21 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=6, fail=0, message={"data":{"statusId":72,"lastHeartbeatTime":1767428361000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428361005}
2026-01-03 16:19:23 [http-nio-8080-exec-9] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:19:23 [http-nio-8080-exec-9] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:19:23 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=11, userId=1
2026-01-03 16:19:23 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=12, userId=1
2026-01-03 16:19:32 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=7, fail=0, message={"data":{"wsConnected":1,"onlineStatus":1,"lastAuthTime":1767428372041,"deviceCode":"DEV-006","wsSessionId":"13","deviceId":7,"status":"online","updatedAt":1767428372041},"type":"device_status_change","timestamp":1767428372044}
2026-01-03 16:19:32 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=13, deviceCode=DEV-006
2026-01-03 16:19:32 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=7, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767428372000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767428372096}
2026-01-03 16:19:39 [http-nio-8080-exec-1] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:19:39 [http-nio-8080-exec-1] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:19:39 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=14, userId=1
2026-01-03 16:19:39 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=15, userId=1
2026-01-03 16:19:39 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=8, fail=0, message={"data":{"lastHeartbeatTime":1767428379146,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428379155}
2026-01-03 16:19:44 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=8, fail=0, message={"data":{"wsConnected":1,"onlineStatus":1,"lastAuthTime":1767428384319,"deviceCode":"DEV-007","wsSessionId":"16","deviceId":8,"status":"online","updatedAt":1767428384319},"type":"device_status_change","timestamp":1767428384332}
2026-01-03 16:19:44 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=16, deviceCode=DEV-007
2026-01-03 16:19:44 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=8, fail=0, message={"data":{"statusId":74,"lastHeartbeatTime":1767428384000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767428384376}
2026-01-03 16:19:46 [http-nio-8080-exec-7] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:19:46 [http-nio-8080-exec-7] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:19:46 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=17, userId=1
2026-01-03 16:19:46 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=18, userId=1
2026-01-03 16:19:55 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=0, message={"data":{"lastHeartbeatTime":1767428395148,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767428395153}
2026-01-03 16:19:58 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=0, message={"data":{"lastHeartbeatTime":1767428398149,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767428398154}
2026-01-03 16:20:07 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=0, message={"data":{"wsConnected":1,"onlineStatus":1,"lastAuthTime":1767428407592,"deviceCode":"DEV-008","wsSessionId":"19","deviceId":9,"status":"online","updatedAt":1767428407592},"type":"device_status_change","timestamp":1767428407606}
2026-01-03 16:20:07 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=19, deviceCode=DEV-008
2026-01-03 16:20:07 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767428408000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767428407656}
2026-01-03 16:20:12 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=0, message={"data":{"lastHeartbeatTime":1767428412157,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428412165}
2026-01-03 16:20:12 [http-nio-8080-exec-5] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 16:20:12 [http-nio-8080-exec-5] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 16:20:12 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=1a, userId=1
2026-01-03 16:20:12 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=1b, userId=1
2026-01-03 16:20:17 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"wsConnected":1,"onlineStatus":1,"lastAuthTime":1767428417791,"deviceCode":"DEV-009","wsSessionId":"1c","deviceId":10,"status":"online","updatedAt":1767428417791},"type":"device_status_change","timestamp":1767428417805}
2026-01-03 16:20:17 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=1c, deviceCode=DEV-009
2026-01-03 16:20:17 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767428418000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767428417852}
2026-01-03 16:20:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428421157,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428421167}
2026-01-03 16:20:32 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428432157,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767428432177}
2026-01-03 16:20:45 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428445152,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767428445159}
2026-01-03 16:20:48 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428448785,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428448792}
2026-01-03 16:20:53 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":77,"lastHeartbeatTime":1767428453000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428453051}
2026-01-03 16:20:56 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428456158,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767428456177}
2026-01-03 16:21:08 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428468153,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767428468169}
2026-01-03 16:21:13 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428473147,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428473166}
2026-01-03 16:21:18 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428478153,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767428478170}
2026-01-03 16:21:22 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428482150,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428482168}
2026-01-03 16:21:24 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767428485000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428484610}
2026-01-03 16:21:33 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428493155,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767428493171}
2026-01-03 16:21:46 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428506147,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767428506166}
2026-01-03 16:21:49 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428509159,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428509165}
2026-01-03 16:21:49 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767428509000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428509457}
2026-01-03 16:21:53 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=0
2026-01-03 16:21:53 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=1
2026-01-03 16:21:53 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=1d, userId=1
2026-01-03 16:21:53 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=1e, userId=1
2026-01-03 16:21:57 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428517159,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767428517175}
2026-01-03 16:22:09 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428529147,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767428529164}
2026-01-03 16:22:14 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428534153,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428534159}
2026-01-03 16:22:19 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428539160,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767428539178}
2026-01-03 16:22:23 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428543159,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428543177}
2026-01-03 16:22:27 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":80,"lastHeartbeatTime":1767428547000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767428547340}
2026-01-03 16:22:31 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1d
2026-01-03 16:22:31 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=1e
2026-01-03 16:22:31 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=1f, userId=1
2026-01-03 16:22:31 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=20, userId=1
2026-01-03 16:22:31 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=21, userId=1
2026-01-03 16:22:34 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428554156,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767428554171}
2026-01-03 16:22:38 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767428558000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428558169}
2026-01-03 16:22:47 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428567160,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767428567174}
2026-01-03 16:22:50 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428570149,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428570167}
2026-01-03 16:22:58 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428578150,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767428578167}
2026-01-03 16:23:10 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428590146,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767428590162}
2026-01-03 16:23:11 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767428591000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428591163}
2026-01-03 16:23:15 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428595163,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428595179}
2026-01-03 16:23:20 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428600153,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767428600170}
2026-01-03 16:23:24 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428604149,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428604154}
2026-01-03 16:23:35 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428615150,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767428615157}
2026-01-03 16:23:48 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428628155,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767428628173}
2026-01-03 16:23:51 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428631155,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428631162}
2026-01-03 16:23:55 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767428635000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767428635160}
2026-01-03 16:23:59 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428639150,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767428639158}
2026-01-03 16:24:11 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428651149,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767428651165}
2026-01-03 16:24:16 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428656153,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428656159}
2026-01-03 16:24:21 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767428661000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428661169}
2026-01-03 16:24:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428661152,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767428661170}
2026-01-03 16:24:25 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428665159,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428665177}
2026-01-03 16:24:32 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767428672000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767428672166}
2026-01-03 16:24:36 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428676150,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767428676156}
2026-01-03 16:24:45 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":80,"lastHeartbeatTime":1767428685000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767428685162}
2026-01-03 16:24:49 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428689148,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767428689154}
2026-01-03 16:24:52 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428692146,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767428692152}
2026-01-03 16:25:00 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428700155,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767428700162}
2026-01-03 16:25:08 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767428708000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767428708157}
2026-01-03 16:25:12 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428712160,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767428712167}
2026-01-03 16:25:17 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428717155,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767428717161}
2026-01-03 16:25:18 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767428718000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767428718171}
2026-01-03 16:25:22 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428722160,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767428722178}
2026-01-03 16:25:26 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428726153,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767428726170}
2026-01-03 16:25:37 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428737159,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767428737173}
2026-01-03 16:26:23 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767428783151,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767428783169}
2026-01-03 16:30:47 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429047969,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429047977}
2026-01-03 16:30:48 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":80,"lastHeartbeatTime":1767429048000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429048005}
2026-01-03 16:31:04 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1f
2026-01-03 16:31:04 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=21
2026-01-03 16:31:04 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=20
2026-01-03 16:31:04 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=22, userId=1
2026-01-03 16:31:04 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=23, userId=1
2026-01-03 16:31:04 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=24, userId=1
2026-01-03 16:31:12 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429072794,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429072802}
2026-01-03 16:31:12 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767429073000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429072825}
2026-01-03 16:31:13 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429073439,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429073446}
2026-01-03 16:31:13 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767429073000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429073472}
2026-01-03 16:31:13 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429073945,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429073952}
2026-01-03 16:31:13 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767429074000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429073976}
2026-01-03 16:31:14 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429074385,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429074394}
2026-01-03 16:31:14 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767429074000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429074424}
2026-01-03 16:31:14 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429074818,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429074826}
2026-01-03 16:31:14 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767429075000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429074864}
2026-01-03 16:31:15 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429075277,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429075286}
2026-01-03 16:31:15 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767429075000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429075314}
2026-01-03 16:31:16 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429076080,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429076088}
2026-01-03 16:31:16 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767429076000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429076111}
2026-01-03 16:31:16 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429076563,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429076573}
2026-01-03 16:31:16 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767429077000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429076597}
2026-01-03 16:31:48 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429108151,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429108167}
2026-01-03 16:32:13 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429133158,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429133163}
2026-01-03 16:32:14 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429134153,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429134169}
2026-01-03 16:32:14 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=14
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:32:14 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429134153,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429134170}
2026-01-03 16:32:15 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429135146,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429135162}
2026-01-03 16:32:15 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429135146,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429135163}
2026-01-03 16:32:16 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429136154,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429136170}
2026-01-03 16:32:16 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429136154,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429136171}
2026-01-03 16:32:17 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429137150,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429137155}
2026-01-03 16:32:38 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767429158000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429158164}
2026-01-03 16:32:49 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429169147,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429169153}
2026-01-03 16:32:57 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767429177000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429177173}
2026-01-03 16:33:11 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767429191000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429191153}
2026-01-03 16:33:14 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429194145,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429194161}
2026-01-03 16:33:15 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429195148,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429195165}
2026-01-03 16:33:15 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429195150,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429195166}
2026-01-03 16:33:16 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429196153,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429196169}
2026-01-03 16:33:16 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:33:16 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429196153,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429196169}
2026-01-03 16:33:17 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429197156,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429197161}
2026-01-03 16:33:17 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429197156,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429197163}
2026-01-03 16:33:18 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429198146,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429198161}
2026-01-03 16:33:50 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429230144,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429230160}
2026-01-03 16:33:55 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767429235000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429235159}
2026-01-03 16:34:15 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429255152,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429255168}
2026-01-03 16:34:16 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429256154,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429256162}
2026-01-03 16:34:16 [http-nio-8080-exec-5] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:34:16 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429256154,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429256162}
2026-01-03 16:34:17 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429257147,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429257165}
2026-01-03 16:34:17 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:34:17 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429257147,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429257165}
2026-01-03 16:34:18 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429258157,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429258169}
2026-01-03 16:34:18 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429258157,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429258171}
2026-01-03 16:34:19 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429259159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429259165}
2026-01-03 16:34:21 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767429261000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429261168}
2026-01-03 16:34:32 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767429272000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429272171}
2026-01-03 16:34:45 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":80,"lastHeartbeatTime":1767429285000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429285172}
2026-01-03 16:34:51 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429291160,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429291167}
2026-01-03 16:35:01 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767429301000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429301500}
2026-01-03 16:35:08 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767429308000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429308155}
2026-01-03 16:35:16 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429316153,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429316159}
2026-01-03 16:35:17 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429317147,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429317163}
2026-01-03 16:35:17 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429317147,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429317164}
2026-01-03 16:35:18 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429318149,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429318156}
2026-01-03 16:35:18 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429318149,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429318157}
2026-01-03 16:35:18 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=8
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:35:18 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"statusId":76,"lastHeartbeatTime":1767429318000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429318156}
2026-01-03 16:35:19 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429319156,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429319171}
2026-01-03 16:35:19 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429319156,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429319172}
2026-01-03 16:35:20 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429320150,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429320157}
2026-01-03 16:35:52 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429352149,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429352165}
2026-01-03 16:36:20 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429380145,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429380161}
2026-01-03 16:36:53 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429413148,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429413176}
2026-01-03 16:37:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429441149,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429441157}
2026-01-03 16:37:41 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429461541,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429461548}
2026-01-03 16:37:41 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767429462000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429461571}
2026-01-03 16:37:54 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429474147,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429474153}
2026-01-03 16:38:22 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429502147,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429502152}
2026-01-03 16:38:42 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429522150,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429522167}
2026-01-03 16:38:55 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429535149,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429535155}
2026-01-03 16:39:11 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429551302,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429551320}
2026-01-03 16:39:11 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767429551000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429551337}
2026-01-03 16:39:11 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429551708,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429551716}
2026-01-03 16:39:11 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767429552000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429551747}
2026-01-03 16:39:12 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429552116,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429552123}
2026-01-03 16:39:12 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767429552000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429552158}
2026-01-03 16:39:12 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429552439,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429552447}
2026-01-03 16:39:13 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429553405,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429553423}
2026-01-03 16:39:13 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429553812,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429553830}
2026-01-03 16:39:21 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767429561000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429561155}
2026-01-03 16:39:23 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429563154,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429563159}
2026-01-03 16:39:32 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767429572000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429572164}
2026-01-03 16:39:43 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429583161,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429583167}
2026-01-03 16:39:45 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767429585000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429585155}
2026-01-03 16:39:56 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429596154,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429596159}
2026-01-03 16:40:08 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767429608000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429608171}
2026-01-03 16:40:12 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429612155,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429612161}
2026-01-03 16:40:12 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:40:12 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429612155,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429612161}
2026-01-03 16:40:13 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429613145,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429613152}
2026-01-03 16:40:13 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429613145,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429613153}
2026-01-03 16:40:14 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429614153,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429614158}
2026-01-03 16:40:14 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429614153,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429614160}
2026-01-03 16:40:18 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767429618000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429618153}
2026-01-03 16:40:24 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429624152,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429624158}
2026-01-03 16:40:44 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429644155,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429644162}
2026-01-03 16:40:57 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429657148,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429657154}
2026-01-03 16:41:13 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429673156,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429673172}
2026-01-03 16:41:13 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:41:13 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429673156,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429673172}
2026-01-03 16:41:14 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429674148,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429674154}
2026-01-03 16:41:14 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429674148,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429674154}
2026-01-03 16:41:15 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429675147,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429675153}
2026-01-03 16:41:15 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=2
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:41:15 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429675146,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429675153}
2026-01-03 16:41:25 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429685145,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429685151}
2026-01-03 16:41:45 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429705151,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429705167}
2026-01-03 16:41:58 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429718158,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429718174}
2026-01-03 16:42:14 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429734144,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429734150}
2026-01-03 16:42:14 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429734153,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429734159}
2026-01-03 16:42:15 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429735151,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429735157}
2026-01-03 16:42:15 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429735151,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429735157}
2026-01-03 16:42:16 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429736159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429736176}
2026-01-03 16:42:16 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429736159,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429736176}
2026-01-03 16:42:26 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429746148,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429746165}
2026-01-03 16:42:38 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767429758000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429758167}
2026-01-03 16:42:46 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429766148,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429766164}
2026-01-03 16:42:57 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767429777000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429777164}
2026-01-03 16:42:59 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429779149,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429779154}
2026-01-03 16:43:11 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767429791000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429791168}
2026-01-03 16:43:15 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429795154,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429795171}
2026-01-03 16:43:15 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=b
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:43:15 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429795161,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429795172}
2026-01-03 16:43:16 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429796147,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429796163}
2026-01-03 16:43:16 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429796147,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429796163}
2026-01-03 16:43:17 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429797153,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429797160}
2026-01-03 16:43:17 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429797153,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429797160}
2026-01-03 16:43:27 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429807148,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429807164}
2026-01-03 16:43:47 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429827155,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429827171}
2026-01-03 16:43:55 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767429835000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429835174}
2026-01-03 16:44:00 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429840155,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429840170}
2026-01-03 16:44:16 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429856156,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429856162}
2026-01-03 16:44:16 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429856156,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429856163}
2026-01-03 16:44:17 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429857153,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429857169}
2026-01-03 16:44:17 [http-nio-8080-exec-3] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=5
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:44:17 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429857153,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429857171}
2026-01-03 16:44:18 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429858150,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429858156}
2026-01-03 16:44:18 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429858150,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429858157}
2026-01-03 16:44:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767429861000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429861184}
2026-01-03 16:44:28 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429868149,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429868156}
2026-01-03 16:44:32 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767429872000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429872163}
2026-01-03 16:44:45 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767429885000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429885154}
2026-01-03 16:44:48 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429888157,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429888162}
2026-01-03 16:45:01 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429901156,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429901173}
2026-01-03 16:45:08 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767429908000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429908175}
2026-01-03 16:45:17 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429917148,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429917156}
2026-01-03 16:45:17 [http-nio-8080-exec-3] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:45:17 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429917148,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429917156}
2026-01-03 16:45:18 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767429918000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429918174}
2026-01-03 16:45:18 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429918157,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429918174}
2026-01-03 16:45:18 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429918157,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429918175}
2026-01-03 16:45:19 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429919155,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429919172}
2026-01-03 16:45:19 [http-nio-8080-exec-10] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:45:19 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767429919155,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429919172}
2026-01-03 16:45:29 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429929157,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429929172}
2026-01-03 16:45:49 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429949153,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767429949164}
2026-01-03 16:46:02 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429962147,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767429962153}
2026-01-03 16:46:18 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429978154,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767429978160}
2026-01-03 16:46:18 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429978154,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767429978160}
2026-01-03 16:46:19 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429979157,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767429979162}
2026-01-03 16:46:19 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429979157,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767429979163}
2026-01-03 16:46:20 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429980153,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767429980172}
2026-01-03 16:46:20 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429980153,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767429980172}
2026-01-03 16:46:30 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767429990159,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767429990165}
2026-01-03 16:46:50 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430010160,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430010176}
2026-01-03 16:47:03 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430023148,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430023154}
2026-01-03 16:47:19 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430039146,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430039162}
2026-01-03 16:47:19 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430039146,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430039162}
2026-01-03 16:47:20 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430040155,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430040160}
2026-01-03 16:47:20 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430040155,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430040161}
2026-01-03 16:47:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430041159,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430041178}
2026-01-03 16:47:21 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=22
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:47:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767430041159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430041178}
2026-01-03 16:47:31 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430051154,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430051170}
2026-01-03 16:47:38 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767430058000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430058164}
2026-01-03 16:47:51 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430071158,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430071165}
2026-01-03 16:47:57 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767430077000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430077168}
2026-01-03 16:48:04 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430084158,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430084173}
2026-01-03 16:48:11 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767430091000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430091166}
2026-01-03 16:48:20 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430100151,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430100167}
2026-01-03 16:48:20 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:48:20 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767430100151,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430100167}
2026-01-03 16:48:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430101161,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430101170}
2026-01-03 16:48:21 [http-nio-8080-exec-10] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:48:21 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=1, message={"data":{"lastHeartbeatTime":1767430101161,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430101170}
2026-01-03 16:48:22 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430102151,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430102156}
2026-01-03 16:48:22 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767430102151,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430102157}
2026-01-03 16:48:27 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=25, userId=1
2026-01-03 16:48:27 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=26, userId=1
2026-01-03 16:48:27 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=27, userId=1
2026-01-03 16:48:27 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=28, userId=1
2026-01-03 16:48:32 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430112152,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430112169}
2026-01-03 16:48:41 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"wsConnected":1,"lastHeartbeatTime":1767365989000,"onlineStatus":1,"lastAuthTime":1767430121291,"deviceCode":"DEV-010","wsSessionId":"29","deviceId":11,"status":"online","updatedAt":1767430121291},"type":"device_status_change","timestamp":1767430121294}
2026-01-03 16:48:41 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=29, deviceCode=DEV-010
2026-01-03 16:48:41 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":82,"lastHeartbeatTime":1767430121000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430121358}
2026-01-03 16:48:52 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430132157,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430132171}
2026-01-03 16:48:55 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767430135000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430135154}
2026-01-03 16:49:05 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430145158,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430145176}
2026-01-03 16:49:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767430161000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430161176}
2026-01-03 16:49:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430161159,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430161177}
2026-01-03 16:49:21 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:49:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430161159,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430161178}
2026-01-03 16:49:22 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430162149,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430162154}
2026-01-03 16:49:22 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430162149,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430162155}
2026-01-03 16:49:23 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430163156,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430163172}
2026-01-03 16:49:23 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=e
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:49:23 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430163156,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430163173}
2026-01-03 16:49:32 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767430172000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430172165}
2026-01-03 16:49:33 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430173145,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430173161}
2026-01-03 16:49:41 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430181366,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430181382}
2026-01-03 16:49:45 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767430185000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430185163}
2026-01-03 16:49:53 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430193159,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430193174}
2026-01-03 16:50:06 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430206156,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430206161}
2026-01-03 16:50:08 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767430208000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430208160}
2026-01-03 16:50:18 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767430218000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430218153}
2026-01-03 16:50:22 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430222148,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430222153}
2026-01-03 16:50:22 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430222148,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430222155}
2026-01-03 16:50:23 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430223154,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430223160}
2026-01-03 16:50:23 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430223154,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430223161}
2026-01-03 16:50:24 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430224155,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430224161}
2026-01-03 16:50:24 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430224155,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430224162}
2026-01-03 16:50:34 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430234151,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430234155}
2026-01-03 16:50:42 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430242150,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430242156}
2026-01-03 16:50:54 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430254145,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430254164}
2026-01-03 16:51:07 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430267146,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430267162}
2026-01-03 16:51:23 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430283150,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430283158}
2026-01-03 16:51:23 [http-nio-8080-exec-5] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=2
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:51:23 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430283150,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430283158}
2026-01-03 16:51:24 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430284148,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430284164}
2026-01-03 16:51:24 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430284148,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430284165}
2026-01-03 16:51:25 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430285151,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430285158}
2026-01-03 16:51:25 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=1a
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:51:25 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430285151,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430285159}
2026-01-03 16:51:35 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430295152,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430295159}
2026-01-03 16:51:42 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430302149,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430302164}
2026-01-03 16:51:55 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430315152,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430315168}
2026-01-03 16:52:08 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430328153,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430328169}
2026-01-03 16:52:24 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430344157,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430344174}
2026-01-03 16:52:24 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430344157,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430344174}
2026-01-03 16:52:25 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430345151,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430345168}
2026-01-03 16:52:25 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430345151,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430345169}
2026-01-03 16:52:26 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430346161,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430346167}
2026-01-03 16:52:26 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=8
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:52:26 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430346161,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430346167}
2026-01-03 16:52:36 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430356154,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430356169}
2026-01-03 16:52:42 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430362147,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430362160}
2026-01-03 16:52:43 [http-nio-8080-exec-9] INFO  c.d.monitor.service.impl.DeviceServiceImpl - Config pushed via WebSocket to device: DEV-010
2026-01-03 16:52:43 [http-nio-8080-exec-9] INFO  c.d.monitor.service.impl.DeviceServiceImpl - Config marked as synced after WebSocket push, deviceId=11, configKeys=[heartbeat_interval]
2026-01-03 16:52:53 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430373662,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430373680}
2026-01-03 16:52:56 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430376152,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430376157}
2026-01-03 16:52:57 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767430377000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430377159}
2026-01-03 16:53:03 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430383663,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430383669}
2026-01-03 16:53:09 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430389149,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430389165}
2026-01-03 16:53:14 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430394146,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430394153}
2026-01-03 16:53:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767430401000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430401176}
2026-01-03 16:53:21 [http-nio-8080-exec-9] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:53:21 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":78,"lastHeartbeatTime":1767430401000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430401176}
2026-01-03 16:53:24 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430404153,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430404169}
2026-01-03 16:53:25 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430405158,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430405164}
2026-01-03 16:53:25 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430405158,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430405165}
2026-01-03 16:53:26 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430406148,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430406155}
2026-01-03 16:53:26 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430406148,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430406156}
2026-01-03 16:53:27 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430407152,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430407169}
2026-01-03 16:53:27 [http-nio-8080-exec-3] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=2
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:53:27 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430407152,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430407169}
2026-01-03 16:53:34 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430414160,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430414165}
2026-01-03 16:53:37 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430417157,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430417174}
2026-01-03 16:53:42 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":82,"lastHeartbeatTime":1767430422000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430422174}
2026-01-03 16:53:44 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430424158,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430424163}
2026-01-03 16:53:54 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430434145,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430434163}
2026-01-03 16:53:57 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430437156,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430437170}
2026-01-03 16:54:04 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430444158,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430444164}
2026-01-03 16:54:10 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430450158,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430450174}
2026-01-03 16:54:13 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430453728,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430453735}
2026-01-03 16:54:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767430461000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430461162}
2026-01-03 16:54:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767430461000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430461163}
2026-01-03 16:54:23 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430463665,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430463670}
2026-01-03 16:54:26 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430466160,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430466165}
2026-01-03 16:54:26 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430466160,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430466166}
2026-01-03 16:54:27 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430467147,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430467155}
2026-01-03 16:54:27 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:54:27 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430467147,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430467155}
2026-01-03 16:54:28 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430468148,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430468166}
2026-01-03 16:54:28 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430468148,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430468166}
2026-01-03 16:54:34 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430474148,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430474153}
2026-01-03 16:54:38 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430478155,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430478160}
2026-01-03 16:54:44 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430484147,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430484154}
2026-01-03 16:54:54 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430494159,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430494164}
2026-01-03 16:54:58 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430498150,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430498166}
2026-01-03 16:55:04 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430504044,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430504051}
2026-01-03 16:55:11 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430511151,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430511159}
2026-01-03 16:55:12 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767430512000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430512160}
2026-01-03 16:55:14 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430514148,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430514155}
2026-01-03 16:55:15 [http-nio-8080-exec-5] INFO  c.d.monitor.service.impl.DeviceServiceImpl - Config pushed via WebSocket to device: DEV-010
2026-01-03 16:55:15 [http-nio-8080-exec-5] INFO  c.d.monitor.service.impl.DeviceServiceImpl - Config marked as synced after WebSocket push, deviceId=11, configKeys=[heartbeat_interval]
2026-01-03 16:55:15 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767430515000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430515164}
2026-01-03 16:55:17 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767430517000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430517163}
2026-01-03 16:55:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767430521000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430521159}
2026-01-03 16:55:27 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430527158,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430527163}
2026-01-03 16:55:27 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430527158,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430527164}
2026-01-03 16:55:28 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430528157,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430528162}
2026-01-03 16:55:28 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430528157,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430528163}
2026-01-03 16:55:29 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430529148,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430529154}
2026-01-03 16:55:29 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430529148,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430529155}
2026-01-03 16:55:39 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430539152,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430539177}
2026-01-03 16:55:59 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430559160,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430559177}
2026-01-03 16:56:12 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430572158,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430572174}
2026-01-03 16:56:15 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430575153,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430575159}
2026-01-03 16:56:28 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430588147,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430588164}
2026-01-03 16:56:28 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430588147,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430588165}
2026-01-03 16:56:29 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430589155,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430589172}
2026-01-03 16:56:29 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=5
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:56:29 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430589155,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430589172}
2026-01-03 16:56:30 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430590145,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430590150}
2026-01-03 16:56:30 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430590145,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430590152}
2026-01-03 16:56:40 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430600159,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430600172}
2026-01-03 16:57:00 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430620147,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430620152}
2026-01-03 16:57:13 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430633154,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430633170}
2026-01-03 16:57:15 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430635158,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430635164}
2026-01-03 16:57:29 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430649157,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430649175}
2026-01-03 16:57:29 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430649157,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430649176}
2026-01-03 16:57:30 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430650152,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430650160}
2026-01-03 16:57:30 [http-nio-8080-exec-1] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:57:30 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430650152,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430650160}
2026-01-03 16:57:31 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430651149,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430651154}
2026-01-03 16:57:31 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430651149,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430651155}
2026-01-03 16:57:41 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430661156,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430661162}
2026-01-03 16:58:01 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430681152,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430681168}
2026-01-03 16:58:14 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430694153,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430694170}
2026-01-03 16:58:15 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430695158,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430695163}
2026-01-03 16:58:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767430701000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430701170}
2026-01-03 16:58:21 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:58:21 [http-nio-8080-exec-9] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:58:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":70,"lastHeartbeatTime":1767430701000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430701170}
2026-01-03 16:58:21 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":69,"lastHeartbeatTime":1767430701000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430701170}
2026-01-03 16:58:30 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430710146,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430710152}
2026-01-03 16:58:30 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430710146,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430710152}
2026-01-03 16:58:31 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430711159,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430711172}
2026-01-03 16:58:31 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430711159,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430711173}
2026-01-03 16:58:32 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430712154,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430712167}
2026-01-03 16:58:32 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=17
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:58:32 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430712154,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430712167}
2026-01-03 16:58:42 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430722158,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430722171}
2026-01-03 16:58:42 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=27
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:58:42 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":82,"lastHeartbeatTime":1767430722000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430722171}
2026-01-03 16:59:02 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430742157,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430742173}
2026-01-03 16:59:15 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430755154,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430755159}
2026-01-03 16:59:15 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430755154,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430755160}
2026-01-03 16:59:21 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":79,"lastHeartbeatTime":1767430761000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430761166}
2026-01-03 16:59:21 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 16:59:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":71,"lastHeartbeatTime":1767430761000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430761166}
2026-01-03 16:59:31 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430771150,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430771165}
2026-01-03 16:59:31 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430771150,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430771166}
2026-01-03 16:59:31 [http-nio-8080-exec-2] INFO  c.d.monitor.service.impl.CommandServiceImpl - Command sent via WebSocket to device: DEV-005
2026-01-03 16:59:31 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":83,"lastHeartbeatTime":1767430772000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430771861}
2026-01-03 16:59:31 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Command received acknowledged, sessionId=10, deviceCode=DEV-005
2026-01-03 16:59:32 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430772145,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430772151}
2026-01-03 16:59:32 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430772156,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430772161}
2026-01-03 16:59:32 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Command result processed via WebSocket, deviceCode=DEV-005, commandLogId=15
2026-01-03 16:59:33 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430773153,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430773158}
2026-01-03 16:59:33 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430773153,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430773160}
2026-01-03 16:59:43 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430783154,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430783162}
2026-01-03 16:59:46 [http-nio-8080-exec-5] INFO  c.d.monitor.service.impl.CommandServiceImpl - Command sent via WebSocket to device: DEV-005
2026-01-03 16:59:46 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Command received acknowledged, sessionId=10, deviceCode=DEV-005
2026-01-03 16:59:46 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":84,"lastHeartbeatTime":1767430786000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430786485}
2026-01-03 16:59:47 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Command result processed via WebSocket, deviceCode=DEV-005, commandLogId=16
2026-01-03 16:59:57 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":85,"lastHeartbeatTime":1767430797000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430797167}
2026-01-03 16:59:58 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Command result processed via WebSocket, deviceCode=DEV-005, commandLogId=16
2026-01-03 17:00:03 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430803146,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430803152}
2026-01-03 17:00:15 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430815142,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430815158}
2026-01-03 17:00:16 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430816152,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430816171}
2026-01-03 17:00:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767430821000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430821171}
2026-01-03 17:00:21 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:00:21 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:00:21 [http-nio-8080-exec-5] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:00:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":81,"lastHeartbeatTime":1767430821000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430821171}
2026-01-03 17:00:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":75,"lastHeartbeatTime":1767430821000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430821171}
2026-01-03 17:00:21 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":76,"lastHeartbeatTime":1767430821000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430821171}
2026-01-03 17:00:32 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430832145,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430832161}
2026-01-03 17:00:32 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430832160,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430832166}
2026-01-03 17:00:33 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430833156,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430833173}
2026-01-03 17:00:33 [http-nio-8080-exec-1] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=1a
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:00:33 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430833156,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430833173}
2026-01-03 17:00:34 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430834159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430834175}
2026-01-03 17:00:34 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430834159,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430834176}
2026-01-03 17:00:44 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430844148,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430844164}
2026-01-03 17:01:04 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430864152,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430864159}
2026-01-03 17:01:15 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430875159,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430875174}
2026-01-03 17:01:17 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430877160,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430877175}
2026-01-03 17:01:33 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430893157,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430893163}
2026-01-03 17:01:33 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430893157,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430893164}
2026-01-03 17:01:33 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430893204,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430893209}
2026-01-03 17:01:34 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430894148,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430894152}
2026-01-03 17:01:35 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430895156,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430895177}
2026-01-03 17:01:35 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:01:35 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430895156,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430895177}
2026-01-03 17:01:45 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430905149,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430905154}
2026-01-03 17:02:05 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430925157,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430925163}
2026-01-03 17:02:18 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430938161,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430938178}
2026-01-03 17:02:21 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430941161,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767430941168}
2026-01-03 17:02:34 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430954160,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767430954176}
2026-01-03 17:02:34 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430954160,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767430954177}
2026-01-03 17:02:34 [http-nio-8080-exec-9] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:02:34 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767430954160,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767430954177}
2026-01-03 17:02:35 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430955148,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767430955154}
2026-01-03 17:02:36 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430956160,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767430956167}
2026-01-03 17:02:36 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430956160,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767430956167}
2026-01-03 17:02:46 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430966157,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767430966174}
2026-01-03 17:03:06 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430986149,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767430986155}
2026-01-03 17:03:19 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767430999149,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767430999154}
2026-01-03 17:03:21 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767431001000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431001179}
2026-01-03 17:03:21 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431001162,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431001180}
2026-01-03 17:03:21 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:03:21 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:03:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":70,"lastHeartbeatTime":1767431001000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431001179}
2026-01-03 17:03:21 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=14
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:03:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=2, message={"data":{"statusId":78,"lastHeartbeatTime":1767431001000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431001179}
2026-01-03 17:03:34 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431014226,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431014241}
2026-01-03 17:03:35 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431015154,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431015161}
2026-01-03 17:03:35 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:03:35 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431015154,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431015161}
2026-01-03 17:03:36 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431016151,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431016156}
2026-01-03 17:03:37 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431017159,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431017174}
2026-01-03 17:03:37 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=5
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:03:37 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431017159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431017174}
2026-01-03 17:03:42 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":82,"lastHeartbeatTime":1767431022000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431022162}
2026-01-03 17:03:47 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431027154,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431027170}
2026-01-03 17:04:07 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431047150,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431047166}
2026-01-03 17:04:20 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431060151,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431060157}
2026-01-03 17:04:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":86,"lastHeartbeatTime":1767431061000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431061166}
2026-01-03 17:04:21 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431061150,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431061167}
2026-01-03 17:04:21 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:04:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":71,"lastHeartbeatTime":1767431061000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431061166}
2026-01-03 17:04:35 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431075148,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431075165}
2026-01-03 17:04:36 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431076156,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431076163}
2026-01-03 17:04:36 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431076156,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431076163}
2026-01-03 17:04:37 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431077149,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431077154}
2026-01-03 17:04:38 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431078157,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431078161}
2026-01-03 17:04:38 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431078157,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431078163}
2026-01-03 17:04:48 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431088151,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431088166}
2026-01-03 17:05:08 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431108146,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431108151}
2026-01-03 17:05:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767431121000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431121167}
2026-01-03 17:05:21 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431121158,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431121169}
2026-01-03 17:05:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767431121000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431121169}
2026-01-03 17:05:21 [http-nio-8080-exec-3] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:05:21 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:05:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":81,"lastHeartbeatTime":1767431121000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431121167}
2026-01-03 17:05:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":73,"lastHeartbeatTime":1767431121000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431121167}
2026-01-03 17:05:21 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431121234,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431121238}
2026-01-03 17:05:36 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431136157,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431136174}
2026-01-03 17:05:37 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431137160,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431137166}
2026-01-03 17:05:37 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431137160,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431137166}
2026-01-03 17:05:38 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431138149,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431138154}
2026-01-03 17:05:39 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431139158,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431139166}
2026-01-03 17:05:39 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:05:39 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431139158,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431139167}
2026-01-03 17:05:41 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-005","deviceId":6,"status":"offline","updatedAt":1767431141341},"type":"device_status_change","timestamp":1767431141345}
2026-01-03 17:05:41 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=10, deviceCode=DEV-005
2026-01-03 17:05:49 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431149149,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431149154}
2026-01-03 17:05:56 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=2a
2026-01-03 17:05:56 [http-nio-8080-exec-2] WARN  c.d.monitor.handler.GlobalExceptionHandler - 业务异常: 设备编码或密钥错误
2026-01-03 17:06:08 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431168193,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431168198}
2026-01-03 17:06:15 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431175151,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431175167}
2026-01-03 17:06:18 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"wsConnected":1,"lastHeartbeatTime":1767431136000,"onlineStatus":1,"lastAuthTime":1767431178440,"deviceCode":"DEV-005","wsSessionId":"2b","deviceId":6,"status":"online","updatedAt":1767431178440},"type":"device_status_change","timestamp":1767431178453}
2026-01-03 17:06:18 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS connected and authenticated via URL params, sessionId=2b, deviceCode=DEV-005
2026-01-03 17:06:18 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":87,"lastHeartbeatTime":1767431178000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431178485}
2026-01-03 17:06:22 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431182145,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431182161}
2026-01-03 17:06:38 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431198149,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431198154}
2026-01-03 17:06:38 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431198149,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431198154}
2026-01-03 17:06:39 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431199149,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431199155}
2026-01-03 17:06:40 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431200146,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431200161}
2026-01-03 17:06:40 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431200146,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431200162}
2026-01-03 17:06:50 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431210153,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431210159}
2026-01-03 17:07:09 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431229152,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431229168}
2026-01-03 17:07:19 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431239158,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431239173}
2026-01-03 17:07:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431241157,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431241175}
2026-01-03 17:07:23 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431243154,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431243160}
2026-01-03 17:07:39 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431259150,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431259156}
2026-01-03 17:07:39 [http-nio-8080-exec-5] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:07:39 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431259150,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431259156}
2026-01-03 17:07:40 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431260160,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431260175}
2026-01-03 17:07:41 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431261154,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431261171}
2026-01-03 17:07:41 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431261154,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431261172}
2026-01-03 17:07:51 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431271159,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431271164}
2026-01-03 17:08:10 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431290156,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431290173}
2026-01-03 17:08:11 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767431291000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431291154}
2026-01-03 17:08:20 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431300159,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431300167}
2026-01-03 17:08:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767431301000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431301172}
2026-01-03 17:08:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431301155,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431301174}
2026-01-03 17:08:21 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:08:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":70,"lastHeartbeatTime":1767431301000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431301172}
2026-01-03 17:08:24 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431304154,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431304168}
2026-01-03 17:08:40 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431320155,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431320173}
2026-01-03 17:08:40 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:08:40 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431320154,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431320173}
2026-01-03 17:08:41 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431321148,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431321164}
2026-01-03 17:08:42 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":82,"lastHeartbeatTime":1767431322000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431322164}
2026-01-03 17:08:42 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431322159,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431322164}
2026-01-03 17:08:42 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431322159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431322165}
2026-01-03 17:08:52 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431332152,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431332170}
2026-01-03 17:09:11 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431351157,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431351180}
2026-01-03 17:09:15 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431355137,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431355142}
2026-01-03 17:09:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431361154,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431361162}
2026-01-03 17:09:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767431361000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431361173}
2026-01-03 17:09:25 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431365146,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431365161}
2026-01-03 17:09:41 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431381154,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431381171}
2026-01-03 17:09:41 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431381154,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431381172}
2026-01-03 17:09:42 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431382148,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431382153}
2026-01-03 17:09:43 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431383155,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431383172}
2026-01-03 17:09:43 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431383155,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431383172}
2026-01-03 17:09:50 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":88,"lastHeartbeatTime":1767431391000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431390895}
2026-01-03 17:09:53 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431393151,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431393156}
2026-01-03 17:10:00 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767431400000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431400175}
2026-01-03 17:10:03 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767431403000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431403172}
2026-01-03 17:10:12 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431412157,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431412162}
2026-01-03 17:10:15 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431415151,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431415158}
2026-01-03 17:10:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767431421000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431421163}
2026-01-03 17:10:21 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:10:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":75,"lastHeartbeatTime":1767431421000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431421163}
2026-01-03 17:10:22 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431422149,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431422165}
2026-01-03 17:10:26 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431426156,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431426173}
2026-01-03 17:10:42 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431442149,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431442155}
2026-01-03 17:10:42 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431442149,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431442157}
2026-01-03 17:10:43 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431443151,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431443156}
2026-01-03 17:10:44 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431444153,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431444169}
2026-01-03 17:10:44 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:10:44 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431444153,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431444169}
2026-01-03 17:10:54 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431454156,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431454162}
2026-01-03 17:10:57 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":87,"lastHeartbeatTime":1767431457000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431457157}
2026-01-03 17:11:13 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431473153,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431473159}
2026-01-03 17:11:15 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431475155,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431475172}
2026-01-03 17:11:23 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431483153,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431483172}
2026-01-03 17:11:27 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431487156,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431487161}
2026-01-03 17:11:43 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431503154,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431503160}
2026-01-03 17:11:43 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431503154,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431503161}
2026-01-03 17:11:44 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431504158,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431504164}
2026-01-03 17:11:45 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431505152,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431505157}
2026-01-03 17:11:45 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431505152,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431505158}
2026-01-03 17:11:52 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.AlertWebSocketServer - Broadcast on alerts done. success=13, fail=0, message={"data":{"alertNo":"ALT-1767431512119-9137","alertMessage":"illegal_open from device DEV-010","alertType":"illegal_open","alertLevel":"warning","alertId":2,"deviceCode":"DEV-010","alertData":{"doorStatus":"open"},"alertTime":1767431512000,"deviceId":11},"type":"new_alert","timestamp":1767431512126}
2026-01-03 17:11:55 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431515154,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431515161}
2026-01-03 17:12:14 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431534160,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431534174}
2026-01-03 17:12:15 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431535139,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431535145}
2026-01-03 17:12:24 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431544147,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431544153}
2026-01-03 17:12:28 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431548158,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431548175}
2026-01-03 17:12:44 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431564152,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431564168}
2026-01-03 17:12:44 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431564152,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431564169}
2026-01-03 17:12:45 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431565146,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431565152}
2026-01-03 17:12:46 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431566159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431566163}
2026-01-03 17:12:46 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431566159,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431566164}
2026-01-03 17:12:56 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431576158,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431576175}
2026-01-03 17:13:15 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431595151,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431595167}
2026-01-03 17:13:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767431601000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431601174}
2026-01-03 17:13:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431601155,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431601175}
2026-01-03 17:13:21 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:13:21 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:13:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":78,"lastHeartbeatTime":1767431601000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431601174}
2026-01-03 17:13:21 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=5
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:13:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=2, message={"data":{"statusId":70,"lastHeartbeatTime":1767431601000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431601174}
2026-01-03 17:13:25 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431605158,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431605174}
2026-01-03 17:13:29 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431609150,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431609166}
2026-01-03 17:13:42 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":88,"lastHeartbeatTime":1767431622000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431622170}
2026-01-03 17:13:45 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431625153,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431625159}
2026-01-03 17:13:45 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:13:45 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431625152,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431625159}
2026-01-03 17:13:46 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431626157,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431626162}
2026-01-03 17:13:47 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431627158,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431627165}
2026-01-03 17:13:47 [http-nio-8080-exec-10] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=17
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:13:47 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431627158,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431627165}
2026-01-03 17:13:57 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431637148,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431637154}
2026-01-03 17:14:15 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431655146,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431655163}
2026-01-03 17:14:16 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431656153,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431656159}
2026-01-03 17:14:21 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":71,"lastHeartbeatTime":1767431661000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431661176}
2026-01-03 17:14:26 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431666157,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431666162}
2026-01-03 17:14:30 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431670152,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431670157}
2026-01-03 17:14:46 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431686152,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431686161}
2026-01-03 17:14:46 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431686152,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431686162}
2026-01-03 17:14:47 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431687158,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431687176}
2026-01-03 17:14:48 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431688148,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431688153}
2026-01-03 17:14:48 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431688148,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431688154}
2026-01-03 17:14:58 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431698148,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431698163}
2026-01-03 17:15:17 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431717145,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431717161}
2026-01-03 17:15:21 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431721162,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431721170}
2026-01-03 17:15:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767431721000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431721170}
2026-01-03 17:15:21 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:15:21 [http-nio-8080-exec-3] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:15:21 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=b
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:15:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":75,"lastHeartbeatTime":1767431721000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431721170}
2026-01-03 17:15:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":76,"lastHeartbeatTime":1767431721000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431721170}
2026-01-03 17:15:21 [http-nio-8080-exec-3] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=2
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:15:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=2, message={"data":{"statusId":73,"lastHeartbeatTime":1767431721000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431721170}
2026-01-03 17:15:27 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431727152,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431727168}
2026-01-03 17:15:31 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431731149,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431731154}
2026-01-03 17:15:47 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431747160,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431747178}
2026-01-03 17:15:47 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:15:47 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431747160,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431747178}
2026-01-03 17:15:48 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431748156,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431748161}
2026-01-03 17:15:49 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431749154,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431749170}
2026-01-03 17:15:49 [http-nio-8080-exec-9] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=2
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:15:49 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431749154,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431749171}
2026-01-03 17:15:57 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":87,"lastHeartbeatTime":1767431757000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431757159}
2026-01-03 17:15:59 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431759152,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431759158}
2026-01-03 17:16:18 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431778156,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431778172}
2026-01-03 17:16:21 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431781169,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431781173}
2026-01-03 17:16:28 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431788160,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431788177}
2026-01-03 17:16:32 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431792155,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431792171}
2026-01-03 17:16:48 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431808160,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431808179}
2026-01-03 17:16:48 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:16:48 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431808160,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431808179}
2026-01-03 17:16:49 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431809153,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431809158}
2026-01-03 17:16:50 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431810158,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431810165}
2026-01-03 17:16:50 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431810158,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431810166}
2026-01-03 17:17:00 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431820153,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431820160}
2026-01-03 17:17:19 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431839154,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431839160}
2026-01-03 17:17:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431841155,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431841173}
2026-01-03 17:17:29 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431849147,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431849152}
2026-01-03 17:17:33 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431853145,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431853161}
2026-01-03 17:17:49 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431869145,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431869151}
2026-01-03 17:17:49 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431869145,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431869153}
2026-01-03 17:17:50 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431870151,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431870168}
2026-01-03 17:17:51 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431871155,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431871161}
2026-01-03 17:17:51 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431871155,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431871162}
2026-01-03 17:18:01 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431881149,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431881156}
2026-01-03 17:18:20 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431900150,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431900155}
2026-01-03 17:18:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":69,"lastHeartbeatTime":1767431901000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431901160}
2026-01-03 17:18:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":70,"lastHeartbeatTime":1767431901000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431901162}
2026-01-03 17:18:21 [http-nio-8080-exec-1] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=27
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:18:21 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:18:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431901152,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431901160}
2026-01-03 17:18:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":78,"lastHeartbeatTime":1767431901000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431901161}
2026-01-03 17:18:30 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431910155,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431910161}
2026-01-03 17:18:34 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431914159,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431914164}
2026-01-03 17:18:42 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":88,"lastHeartbeatTime":1767431922000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431922169}
2026-01-03 17:18:50 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431930159,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431930164}
2026-01-03 17:18:50 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431930159,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431930166}
2026-01-03 17:18:51 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431931153,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431931172}
2026-01-03 17:18:52 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431932159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431932172}
2026-01-03 17:18:52 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431932159,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431932172}
2026-01-03 17:19:02 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431942160,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767431942174}
2026-01-03 17:19:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431961156,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767431961172}
2026-01-03 17:19:21 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:19:21 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=17
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:19:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":71,"lastHeartbeatTime":1767431961000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431961173}
2026-01-03 17:19:21 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=5
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:19:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=2, message={"data":{"lastHeartbeatTime":1767431961156,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767431961172}
2026-01-03 17:19:31 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431971147,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767431971164}
2026-01-03 17:19:35 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431975150,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767431975157}
2026-01-03 17:19:51 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431991147,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767431991161}
2026-01-03 17:19:51 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431991147,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767431991163}
2026-01-03 17:19:52 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431992160,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767431992165}
2026-01-03 17:19:53 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767431993159,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767431993175}
2026-01-03 17:19:53 [http-nio-8080-exec-8] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:19:53 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767431993159,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767431993175}
2026-01-03 17:20:03 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432003155,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767432003172}
2026-01-03 17:20:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767432021000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767432021161}
2026-01-03 17:20:21 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767432021000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767432021162}
2026-01-03 17:20:21 [http-nio-8080-exec-5] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:20:21 [http-nio-8080-exec-9] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=27
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:20:21 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767432021153,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767432021162}
2026-01-03 17:20:21 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":75,"lastHeartbeatTime":1767432021000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767432021161}
2026-01-03 17:20:21 [http-nio-8080-exec-3] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:20:21 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":76,"lastHeartbeatTime":1767432021000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767432021162}
2026-01-03 17:20:22 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432022145,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767432022150}
2026-01-03 17:20:32 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432032158,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767432032174}
2026-01-03 17:20:36 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432036146,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767432036162}
2026-01-03 17:20:52 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432052149,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767432052164}
2026-01-03 17:20:52 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432052149,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767432052165}
2026-01-03 17:20:53 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432053147,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767432053154}
2026-01-03 17:20:54 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432054150,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767432054166}
2026-01-03 17:20:54 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432054150,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767432054167}
2026-01-03 17:20:57 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":87,"lastHeartbeatTime":1767432057000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767432057157}
2026-01-03 17:21:04 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432064160,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767432064165}
2026-01-03 17:21:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432081153,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767432081170}
2026-01-03 17:21:23 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432083148,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767432083153}
2026-01-03 17:21:33 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432093146,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767432093163}
2026-01-03 17:21:37 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432097154,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767432097169}
2026-01-03 17:21:53 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432113151,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767432113157}
2026-01-03 17:21:53 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432113151,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767432113158}
2026-01-03 17:21:54 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432114149,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767432114154}
2026-01-03 17:21:55 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432115158,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767432115165}
2026-01-03 17:21:55 [http-nio-8080-exec-5] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:21:55 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767432115158,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767432115165}
2026-01-03 17:22:05 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432125158,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767432125164}
2026-01-03 17:22:21 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432141158,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767432141165}
2026-01-03 17:22:24 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432144147,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767432144152}
2026-01-03 17:22:34 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432154160,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767432154175}
2026-01-03 17:22:38 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432158158,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767432158173}
2026-01-03 17:22:54 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432174150,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767432174156}
2026-01-03 17:22:54 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432174150,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767432174157}
2026-01-03 17:22:55 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432175160,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767432175176}
2026-01-03 17:22:56 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432176153,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767432176171}
2026-01-03 17:22:56 [http-nio-8080-exec-9] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=1a
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:22:56 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767432176153,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767432176172}
2026-01-03 17:23:06 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432186156,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767432186170}
2026-01-03 17:23:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432201160,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767432201170}
2026-01-03 17:23:21 [http-nio-8080-exec-1] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:23:21 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:23:21 [http-nio-8080-exec-6] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=17
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:23:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":69,"lastHeartbeatTime":1767432201000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767432201170}
2026-01-03 17:23:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":78,"lastHeartbeatTime":1767432201000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767432201170}
2026-01-03 17:23:21 [http-nio-8080-exec-4] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=22
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:23:21 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=2, message={"data":{"statusId":70,"lastHeartbeatTime":1767432201000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767432201170}
2026-01-03 17:23:21 [http-nio-8080-exec-8] WARN  c.d.monitor.handler.GlobalExceptionHandler - 业务异常: 生成报表失败：
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: ''
### The error may exist in file [D:\JavaPackage\repository\lab\target\classes\mapper\DeviceMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT                     id,                     device_id AS deviceId,                     status_type AS statusType,                     status_value AS statusValue,                     door_status AS doorStatus,                     door_controller_status AS doorControllerStatus,                     report_time AS reportTime,                     created_at AS createdAt                 FROM device_status_history dsh                  WHERE  report_time BETWEEN ? AND ?                  ORDER BY                  report_time DESC                  LIMIT ?, ?
### Cause: java.sql.SQLException: Incorrect DATETIME value: ''
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: ''; nested exception is java.sql.SQLException: Incorrect DATETIME value: ''
2026-01-03 17:23:25 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432205150,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767432205157}
2026-01-03 17:23:35 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432215152,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767432215157}
2026-01-03 17:23:39 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432219155,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767432219160}
2026-01-03 17:23:55 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432235159,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767432235176}
2026-01-03 17:23:55 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432235159,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767432235177}
2026-01-03 17:23:56 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432236156,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767432236174}
2026-01-03 17:23:57 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432237151,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767432237168}
2026-01-03 17:23:57 [http-nio-8080-exec-7] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleHeartbeat(DeviceWebSocketServer.java:395)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:157)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:23:57 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"lastHeartbeatTime":1767432237151,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767432237168}
2026-01-03 17:24:07 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432247159,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767432247165}
2026-01-03 17:24:21 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"statusId":88,"lastHeartbeatTime":1767432261000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"open","deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767432261176}
2026-01-03 17:24:21 [http-nio-8080-exec-2] ERROR c.d.monitor.websocket.MonitorWebSocketServer - Send message failed on monitor channel, sessionId=11
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1244)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1214)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:190)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:36)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcast(MonitorWebSocketServer.java:125)
	at com.distributed.monitor.websocket.MonitorWebSocketServer.broadcastStatus(MonitorWebSocketServer.java:81)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.handleStatusReport(DeviceWebSocketServer.java:475)
	at com.distributed.monitor.websocket.DeviceWebSocketServer.onMessage(DeviceWebSocketServer.java:160)
	at sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:101)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:24:21 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=11, fail=1, message={"data":{"statusId":71,"lastHeartbeatTime":1767432261000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767432261176}
2026-01-03 17:24:21 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432261208,"onlineStatus":1,"deviceCode":"DEV-010","deviceId":11,"status":"online"},"type":"device_status_update","timestamp":1767432261213}
2026-01-03 17:24:26 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=12, fail=0, message={"data":{"lastHeartbeatTime":1767432266147,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767432266152}
2026-01-03 17:24:56 [http-nio-8080-exec-8] WARN  org.apache.coyote.http11.Http11Processor - The HTTP response header [Content-Disposition] with value [attachment; filename="设备报表.xlsx"] has been removed from the response because it is invalid
java.lang.IllegalArgumentException: The Unicode character [设] at code point [35,774] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:310)
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:283)
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:389)
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:368)
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1048)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.coyote.Response.sendHeaders(Response.java:437)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:291)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:271)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:170)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:139)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:129)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:24:57 [http-nio-8080-exec-10] WARN  org.apache.coyote.http11.Http11Processor - The HTTP response header [Content-Disposition] with value [attachment; filename="设备报表.pdf"] has been removed from the response because it is invalid
java.lang.IllegalArgumentException: The Unicode character [设] at code point [35,774] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:310)
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:283)
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:389)
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:368)
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1048)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.coyote.Response.sendHeaders(Response.java:437)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:291)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:271)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.util.StreamUtils.copy(StreamUtils.java:170)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:139)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:129)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:45)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2026-01-03 17:27:50 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=28
2026-01-03 17:27:50 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=25
2026-01-03 17:27:50 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=26
2026-01-03 17:27:50 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=27
2026-01-03 17:27:50 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-010","deviceId":11,"status":"offline","updatedAt":1767432470169},"type":"device_status_change","timestamp":1767432470171}
2026-01-03 17:27:50 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=29, deviceCode=DEV-010
2026-01-03 17:27:50 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"lastHeartbeatTime":1767432470299,"onlineStatus":1,"deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767432470306}
2026-01-03 17:27:50 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=10, fail=0, message={"data":{"statusId":78,"lastHeartbeatTime":1767432470000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-001","deviceId":2,"status":"online"},"type":"device_status_update","timestamp":1767432470347}
2026-01-03 17:27:50 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=3
2026-01-03 17:27:50 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=2
2026-01-03 17:27:50 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-001","deviceId":2,"status":"offline","updatedAt":1767432470698},"type":"device_status_change","timestamp":1767432470702}
2026-01-03 17:27:50 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=4, deviceCode=DEV-001
2026-01-03 17:27:50 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=9, fail=0, message={"data":{"lastHeartbeatTime":1767432470749,"onlineStatus":1,"deviceCode":"DEV-002","deviceId":3,"status":"online"},"type":"device_status_update","timestamp":1767432470757}
2026-01-03 17:27:51 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=5
2026-01-03 17:27:51 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=6
2026-01-03 17:27:51 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=8, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-002","deviceId":3,"status":"offline","updatedAt":1767432471084},"type":"device_status_change","timestamp":1767432471089}
2026-01-03 17:27:51 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=7, deviceCode=DEV-002
2026-01-03 17:27:51 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=8, fail=0, message={"data":{"lastHeartbeatTime":1767432471137,"onlineStatus":1,"deviceCode":"DEV-003","deviceId":4,"status":"online"},"type":"device_status_update","timestamp":1767432471144}
2026-01-03 17:27:51 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=9
2026-01-03 17:27:51 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=8
2026-01-03 17:27:51 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=7, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-003","deviceId":4,"status":"offline","updatedAt":1767432471500},"type":"device_status_change","timestamp":1767432471504}
2026-01-03 17:27:51 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=a, deviceCode=DEV-003
2026-01-03 17:27:51 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=7, fail=0, message={"data":{"lastHeartbeatTime":1767432471553,"onlineStatus":1,"deviceCode":"DEV-004","deviceId":5,"status":"online"},"type":"device_status_update","timestamp":1767432471559}
2026-01-03 17:27:51 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=b
2026-01-03 17:27:51 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=c
2026-01-03 17:27:51 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=6, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-004","deviceId":5,"status":"offline","updatedAt":1767432471917},"type":"device_status_change","timestamp":1767432471922}
2026-01-03 17:27:51 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=d, deviceCode=DEV-004
2026-01-03 17:27:51 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=6, fail=0, message={"data":{"lastHeartbeatTime":1767432471959,"onlineStatus":1,"deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767432471968}
2026-01-03 17:27:52 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=6, fail=0, message={"data":{"statusId":87,"lastHeartbeatTime":1767432472000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-005","deviceId":6,"status":"online"},"type":"device_status_update","timestamp":1767432472002}
2026-01-03 17:27:52 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=e
2026-01-03 17:27:52 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=f
2026-01-03 17:27:52 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=5, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-005","deviceId":6,"status":"offline","updatedAt":1767432472267},"type":"device_status_change","timestamp":1767432472275}
2026-01-03 17:27:52 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=2b, deviceCode=DEV-005
2026-01-03 17:27:52 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=5, fail=0, message={"data":{"statusId":73,"lastHeartbeatTime":1767432472000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767432472327}
2026-01-03 17:27:52 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=5, fail=0, message={"data":{"lastHeartbeatTime":1767432472361,"onlineStatus":1,"deviceCode":"DEV-006","deviceId":7,"status":"online"},"type":"device_status_update","timestamp":1767432472365}
2026-01-03 17:27:52 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=11
2026-01-03 17:27:52 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=12
2026-01-03 17:27:52 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=4, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-006","deviceId":7,"status":"offline","updatedAt":1767432472712},"type":"device_status_change","timestamp":1767432472715}
2026-01-03 17:27:52 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=13, deviceCode=DEV-006
2026-01-03 17:27:52 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=4, fail=0, message={"data":{"lastHeartbeatTime":1767432472762,"onlineStatus":1,"deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767432472770}
2026-01-03 17:27:52 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=4, fail=0, message={"data":{"statusId":81,"lastHeartbeatTime":1767432473000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-007","deviceId":8,"status":"online"},"type":"device_status_update","timestamp":1767432472812}
2026-01-03 17:27:53 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=15
2026-01-03 17:27:53 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=14
2026-01-03 17:27:53 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=3, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-007","deviceId":8,"status":"offline","updatedAt":1767432473228},"type":"device_status_change","timestamp":1767432473233}
2026-01-03 17:27:53 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=16, deviceCode=DEV-007
2026-01-03 17:27:53 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=3, fail=0, message={"data":{"lastHeartbeatTime":1767432473282,"onlineStatus":1,"deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767432473289}
2026-01-03 17:27:53 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=3, fail=0, message={"data":{"statusId":75,"lastHeartbeatTime":1767432473000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-008","deviceId":9,"status":"online"},"type":"device_status_update","timestamp":1767432473328}
2026-01-03 17:27:53 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=18
2026-01-03 17:27:53 [http-nio-8080-exec-7] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=17
2026-01-03 17:27:53 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=2, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-008","deviceId":9,"status":"offline","updatedAt":1767432473667},"type":"device_status_change","timestamp":1767432473671}
2026-01-03 17:27:53 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=19, deviceCode=DEV-008
2026-01-03 17:27:53 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=2, fail=0, message={"data":{"lastHeartbeatTime":1767432473722,"onlineStatus":1,"deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767432473729}
2026-01-03 17:27:53 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=2, fail=0, message={"data":{"statusId":76,"lastHeartbeatTime":1767432474000,"doorControllerStatus":"normal","onlineStatus":1,"doorStatus":"closed","deviceCode":"DEV-009","deviceId":10,"status":"online"},"type":"device_status_update","timestamp":1767432473767}
2026-01-03 17:27:54 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=1a
2026-01-03 17:27:54 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=1b
2026-01-03 17:27:54 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Broadcast on monitor done. success=1, fail=0, message={"data":{"wsConnected":0,"onlineStatus":0,"deviceCode":"DEV-009","deviceId":10,"status":"offline","updatedAt":1767432474092},"type":"device_status_change","timestamp":1767432474096}
2026-01-03 17:27:54 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.DeviceWebSocketServer - Device WS closed, sessionId=1c, deviceCode=DEV-009
2026-01-03 17:28:08 [http-nio-8080-exec-5] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=23
2026-01-03 17:28:08 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=22
2026-01-03 17:28:08 [http-nio-8080-exec-1] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=24
2026-01-03 17:32:36 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=2c, userId=1
2026-01-03 17:32:36 [http-nio-8080-exec-9] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=2d, userId=1
2026-01-03 17:32:36 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=2e, userId=1
2026-01-03 17:32:39 [http-nio-8080-exec-9] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 用户登出
2026-01-03 17:32:39 [http-nio-8080-exec-4] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=2e
2026-01-03 17:32:39 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=2c
2026-01-03 17:32:42 [http-nio-8080-exec-2] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS connected, sessionId=2f, userId=1
2026-01-03 17:32:48 [http-nio-8080-exec-7] WARN  c.distributed.monitor.service.impl.AuthServiceImpl - 检测到占位符密码，使用开发模式验证。用户名: admin
2026-01-03 17:32:48 [http-nio-8080-exec-7] INFO  c.distributed.monitor.service.impl.AuthServiceImpl - 密码验证成功，用户名: admin
2026-01-03 17:32:48 [http-nio-8080-exec-3] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS connected, sessionId=30, userId=1
2026-01-03 17:32:49 [http-nio-8080-exec-8] INFO  c.d.monitor.websocket.MonitorWebSocketServer - Monitor WS closed, sessionId=2f
2026-01-03 17:32:49 [http-nio-8080-exec-10] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=30
2026-01-03 17:32:49 [http-nio-8080-exec-6] INFO  c.d.monitor.websocket.AlertWebSocketServer - Alerts WS closed, sessionId=2d
